webpackJsonp([8],{840:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),p=o(d),g=n(888),h=o(g),m=n(889),b=o(m),v=n(858),y=o(v),w=n(24),O=n(38),j={DESKTOP:function(e){return p.default.createElement(h.default,e)},MOBILE:function(e){return p.default.createElement(b.default,e)}},E=(l=(0,O.inject)("view"))(s=(0,O.observer)(s=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){return n.data[e.target.name]=e.target.value},n.toggleLoadingState=function(){return n.loading=!n.loading},(0,w.extendObservable)(n,{data:{Username:"",Password:""},loading:!1}),n}return u(t,e),f(t,[{key:"render",value:function(){var e=j[this.props.view.device];return p.default.createElement(e,c({data:this.data,handleChange:this.handleChange,loading:this.loading,toggleLoadingState:this.toggleLoadingState},this.props))}}]),t}(d.Component))||s)||s;t.default=(0,y.default)(E)},858:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),f=o(c),d=n(2),p=(o(d),n(24)),g=n(38),h=n(337),m=n(189),b=function(e){var t,n,o;return(0,g.inject)("user")(t=(0,g.observer)((o=n=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.redirectTo=function(e){t.goTo=e,setTimeout(function(){return t.goTo=""},500)},t.logIn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=t.props.user,r=o.loginUser,a=o.logoutUser,i=o.setUserData,u=o.checkIfLoginTimeExpired,l=o.getUserCookieName,s=o.setAllowDashboard;r(e).then(function(e){var t={auth:!0,id:e.data.Id,name:e.data.Name,email:e.data.Email};i(t),(0,m.setCookie)(l(),t),s(!0),u(),h.NotificationManager.success("Successfully logged in"),n(e)}).catch(function(e){console.error(e),h.NotificationManager.error("Could not log you in"),a(),n(e)})},t.register=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=t.props.user,r=o.registerUser,a=o.setUserData,i=o.checkIfLoginTimeExpired,u=o.getUserCookieName,l=o.setAllowDashboard;r(e).then(function(e){var t={auth:!0,id:e.data.Id,name:e.data.Name,email:e.data.Email};a(t),(0,m.setCookie)(u(),t),l(!0),i(),h.NotificationManager.success("Successfully registered"),n(e)}).catch(function(e){h.NotificationManager.error("Could not register"),console.log(e),n(e)})},t.logOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.props.user,o=n.logoutUser,r=n.setUserData,a=n.clearTimer,i=n.getUserCookieName,u=n.setAllowDashboard;o().then(function(t){r({auth:!1,id:"",name:"",email:""}),(0,m.removeCookie)(i()),u(!1),a(),h.NotificationManager.success("Successfully logged out"),e(t)}).catch(function(t){h.NotificationManager.error("Could not log you out"),e(t),console.log(t)})},(0,p.extendObservable)(t,{goTo:""}),t}return u(n,t),s(n,[{key:"componentWillMount",value:function(){var e=this.props.user;(0,e.setAllowDashboard)((0,e.isAuth)())}},{key:"render",value:function(){return f.default.createElement(e,l({goTo:this.goTo,logIn:this.logIn,logOut:this.logOut,register:this.register,redirectTo:this.redirectTo},this.props),this.props.children)}}]),n}(c.Component),n.propTypes={},n.defaultProps={},t=o))||t)||t};t.default=b},888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(38),i=function(e){var t=e.data,n=e.loading,o=e.logIn,a=e.handleChange,i=e.toggleLoadingState,u=e.user,l=u.getUserFormStates,s=u.setUserFormStatus,c=l(),f=c.REGISTER,d=t.Username,p=t.Password;return r.default.createElement("form",{style:{minWidth:"400px"},onSubmit:function(e){e.preventDefault(),i(),o(t,function(e){e.status<400&&s(""),i()})},noValidate:!0},r.default.createElement("input",{value:d,onChange:a,className:"form-control",style:{marginBottom:"10px"},autoComplete:"off",name:"Username",type:"text",placeholder:"Email"}),r.default.createElement("input",{value:p,onChange:a,className:"form-control",autoComplete:"off",type:"password",name:"Password",placeholder:"Password"}),r.default.createElement("div",{style:{overflow:"hidden",padding:"0",marginTop:"10px"},className:"row row justify-content-between no-gutters"},r.default.createElement("a",{onClick:function(){return s(f)},href:"javascript:;"},"Don't have an account ?")),r.default.createElement("div",{style:{overflow:"hidden",padding:"0",marginTop:"10px"},className:"row row justify-content-between no-gutters"},r.default.createElement("button",{type:"submit",disabled:!d.length||!p.length||n,className:"btn btn-success col"},n?"Loggin in":"Login")))};t.default=(0,a.observer)(i)},889:function(e,t,n){"use strict"}});
//# sourceMappingURL=8.e1d76b86.chunk.js.map